b17a a5 bf ``		lda	hyhpos
b17c 65 c8 ``		adc	horjoy
b17e 29 7f ``		and	#$7f
b180 85 8f ``		sta	hyhpos
b182 18 `` ``		clc
b183 69 3d ``		adc	#horcht		; offset to position on screen
b185 8d 2e 0c		sta	hpos+4		; player four is cursor
b188 18 `` ``		clc			; update vert cursor position
b189 a5 8e ``		lda	hyvpos
b18b 65 c9 ``		adc	verjoy
b18d 29 7f ``		and	#$7f
b18f 85 8e ``		sta	hyvpos
b191 18 `` ``		clc			; off set to position on screen
b192 69 3f ``		adc	#vercht
b194 8d fd 0b		sta	vpos+4
```` `` `` ``	;				ship pos to obj3
b197 a5 8c ``		lda	gvpos
b199 18 `` ``		clc
b19a 69 3f ``		adc	#vercht
b19c 8d fc 08		sta	vpos+3
b19f a5 8d ``		lda	ghpos
b1a1 18 `` ``		clc
b1a2 69 3d ``		adc	#horcht
b1a4 8d 2d 0c		sta	hpos+3
```` `` `` ``	;		claculate cursors quadrant
```` `` `` ``	;
b1a7 `` `` ``	cserv8		; entry point for calculating new energy and quadrant  ******
b1a7 a5 8f ``		lda	hyhpos		; hpos
b1a9 4a `` ``		lsr	a
b1aa 4a `` ``		lsr	a
b1ab 4a `` ``		lsr	a
b1ac 85 6a ``		sta	temp		;temp store h comp
b1ae a5 8e ``		lda	hyvpos		; vpos
b1b0 29 70 ``		and	#$70		; vcomp
b1b2 05 6a ``		ora	temp		; add hcomp
b1b4 85 92 ``		sta	hypqad		; quadrant calculated
```` `` `` ``	;			calculate number of zylons in target
b1b6 aa `` ``		tax
b1b7 bd c9 08		lda	chtram,x		; whats in quad
b1ba 10 02 ``		bpl	cserv2		; starbase ?
b1bc a9 00 ``		lda	#$00		; yes
b1be `` `` ``	cserv2
b1be 09 90 ``		ora	#$90		; color and ascii code
b1c0 2c 97 09		bit	damage+5
b1c3 70 03 ``		bvs	cser11
b1c5 8d 8d 09		sta	dtarg		; display number of zylons
b1c8 `` `` ``	cser11
```` `` `` ``	;		calculate warp energy
b1c8 38 `` ``		sec
b1c9 a5 8f ``		lda	hyhpos
b1cb e5 8d ``		sbc	ghpos
b1cd b0 04 ``		bcs	cserv3
b1cf 49 ff ``		eor	#$ff
b1d1 69 01 ``		adc	#$01
b1d3 `` `` ``	cserv3
b1d3 85 aa ``		sta	temp
```` `` `` ``	;
b1d5 38 `` ``		sec
b1d6 a5 8e ``		lda	hyvpos
b1d8 e5 8c ``		sbc	gvpos
